schema: '2.0'
stages:
  prepare:
    cmd: uv run travel_agent/pipeline/prepare.py
    deps:
    - path: travel_agent/pipeline/prepare.py
      hash: md5
      md5: 8484dd6a5f0f22727b20d50c0c0d3ae8
      size: 1100
    params:
      params.yaml:
        prepare:
          dataset: data/raw/geo-reviews-dataset-2023.csv
          out_dir: data/prepared
          cities:
          - Москва
          - Санкт-Петербург
    outs:
    - path: data/prepared
      hash: md5
      md5: 08a719dcf6213956344112c4ed39e0ef.dir
      size: 116892430
      nfiles: 2
  generate_questions:
    cmd: uv run travel_agent/pipeline/generate_questions.py
    deps:
    - path: travel_agent/pipeline/generate_questions.py
      hash: md5
      md5: 8930afc5a82368167ffdb1d4f42e0eef
      size: 3036
    params:
      params.yaml:
        generate_questions:
          seed: 2025
          dataset: data/raw/geo-reviews-dataset-2023.csv
          n_questions: 20
          out_dir: data/questions
          out_filename: questions.csv
          keywords:
          - вкусный кофе
          - удобное расположение
          - онлайн-сервис
          - атмосфера
          - объёмные ресницы
    outs:
    - path: data/questions
      hash: md5
      md5: 153a69dfb84cbb2205dbb68f76916eb3.dir
      size: 9006669
      nfiles: 1
